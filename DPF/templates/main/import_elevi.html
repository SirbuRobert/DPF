{% extends "base.html" %}
{% block title %}Import Elevi — DPF{% endblock %}

{% block content %}
<section class="card">
  <h1 class="h2">Import Elevi (CSV)</h1>
  <form method="post" enctype="multipart/form-data" class="stack">
    {% csrf_token %}
    <div class="form-grid">
      {% for field in form %}
        <div class="form-field">
          <label>{{ field.label }}{% if field.field.required %}*{% endif %}</label>
          {{ field }}
          {% if field.help_text %}<small class="help">{{ field.help_text }}</small>{% endif %}
          {% if field.errors %}<div class="error">{{ field.errors|striptags }}</div>{% endif %}
        </div>
      {% endfor %}
    </div>
    <button class="btn btn--primary" type="submit">Importă</button>
  </form>

  {% if parole_generate %}
    <hr class="sep">
    <h2 class="h3">Parole generate</h2>
    <div class="table-wrap">
      <table class="table">
        <thead><tr><th>Username</th><th>Parolă</th><th>Nume</th></tr></thead>
        <tbody>
        {% for u,p,n in parole_generate %}
          <tr><td><code>{{ u }}</code></td><td><code>{{ p }}</code></td><td>{{ n }}</td></tr>
        {% endfor %}
        </tbody>
      </table>
    </div>
  {% endif %}
</section>
{% endblock %}
